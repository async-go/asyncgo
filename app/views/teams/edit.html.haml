%h1.visually-hidden Configuration for #{@team.name}

.row.mt-3
  .col-lg-12
    %h3 Name
    %p.lead
      This is the name that will be shown for your team.
    = form_with(model: @team, url: @team, class: 'g-3') do |form|
      .row.mt-2
        .mb-3
          .mb-1
            = form.label :name
          = form.text_field :name, required: true, class: 'form-control mb-3'
          = form.submit 'Save', class: 'btn btn-primary mb-3'

%hr

.row.mt-3
  .col-lg-12
    %h3 Message
    %p.lead
      Set a message that your team will see on the topics page. This can be used
      to share priorities, important updates, or other notes that are important
      for the team to see.
    = form_with(model: @team, url: [@team], class: 'g-3') do |form|
      .row.mt-2
        .mb-3
          .mb-1
            = form.label :message
          = form.text_field :message, required: true, class: 'form-control mb-3'
          = form.submit 'Save', class: 'btn btn-primary mb-3'

%hr

.row
  .col.lg-12
    %h3 Invite users
    %p.lead Invite users to join your team.
    = form_with(model: User, url: [@team, :users], class: 'g-3') do |invite_user_form|
      .row
        .col-lg-10
          .input-group
            .input-group-text.mb-3
              = invite_user_form.label :email
            = invite_user_form.text_field :email, class: 'form-control mb-3'
        .col-lg-2
          = invite_user_form.submit 'Invite User', class: 'btn btn-primary mb-3'

%hr

.row
  .col-lg-12
    %h3 Users in Team
    %p.lead
      Click to remove. If you want to remove yourself, have a team member
      do it for you or contact support below.
    .row
      .list-group.list-group-horizontal-lg
        - @team_members.each do |user|
          .col-lg-3
            = link_to user.email, team_user_path(@team, user),
              method: :delete, class: 'list-group-item list-group-item-action text-center'
    - if @pagy.pages > 1
      .row.mt-3
        != pagy_bootstrap_nav(@pagy)

%hr

.row
  .col-lg-12
    %h3 Billing
    %p
      Billing is not yet implemented, but you are invited to early access. If you
      choose to participate we just ask that you give us feedback on how we can
      improve the product, and in exchange this team will be free
      forever.
    %p
      To request full access please use the contact form below.

%hr

.row
  .col-lg-12
    %h3 Support/Feedback Form
    %p.lead Use this form to contact support and/or provide product feedback.
    = form_with(url: team_support_path(@team), class: 'g-3') do |support_form|
      .input-group.mb-3
        .input-group-text
          = support_form.label :body
        = support_form.text_area :body, rows: 4, class: 'form-control'

      = support_form.submit 'Send Email', class: 'btn btn-primary'
